#summary 処理時間の比較．

= 概要 =

Darts と Darts clone 0.32d, 0.32e による辞書の構築時間と検索時間を計測しました．

郵便番号辞書と英語版 Google n-gram を用いた場合を除き，Darts clone の方が高速に構築できています．
構築が高速になっている理由は，構築されるダブル配列のサイズが小さく，より効率的なアルゴリズムが採用されているからでしょう．

検索時間については，検索順序とバージョンにより事情が異なります．
ランダム順に検索する場合は高速なっているケースが多く，Darts clone 0.32e では郵便番号辞書を除いて高速化できています．
一方，辞書順に検索した場合は，Darts の方が高速なケースが多くなります．

検索時間に差がある要因としては，辞書のサイズとデータの配置が挙げられます．
辞書のサイズを比較すると，Darts > Darts clone 0.32d > Darts clone 0.32e となり，Darts clone 0.32e が最も有利です．
データの配置による良し悪しを単純に比較することはできませんが，Darts clone はキーを前半と後半に分割して保存するのに対し，Darts は区別なく保存するという違いがあります．
結果として，Darts clone では，前半から後半への移行時にキャッシュミスが発生しやすくなっているのでしょう．

= 実験設定 =

Darts と Darts clone を用いて辞書を構築し，ランダム順および辞書順に登録キーを検索しました．
構築および検索の試行回数は，10 回以上かつ経過時間が 10 秒以上になるまでとしました．

== 実験環境 ==

OS には Windows，コンパイラには MinGW gcc 3.4.5 を使用しました．

|| *環境 ID* || *PC 型番* || *CPU 型番* || *CPU 周波数* || *補足* ||
||X60||IBM Thinkpad X60||Core Duo L2500||1.83GHz||||
||S101A||ASUS Eee PC S101||Atom N270||1.60GHz||High Performance Mode||
||S101B||ASUS Eee PC S101||Atom N270||1.20GHz||Power Saving Mode||
||T3400||Dell Precision T3400||Core 2 Quad Q9550||2.83GHz||||

== コーパス ==

|| *出典* || *内容* || *キー数* || *サイズ* || *関連 URL* || *補足* ||
||ipadic-2.6.3||見出し語||159,442||2,892,008||http://chasen.aist-nara.ac.jp/chasen/distribution.html.ja||漢字かな混じり||
||ipadic-2.6.3||読み||217,404||2,385,672||http://chasen.aist-nara.ac.jp/chasen/distribution.html.ja||カタカナ||
||WordNet-3.0||英語||147,306||1,839,597||http://wordnet.princeton.edu/||英単語||
||郵便番号辞書||数字||118,559||948,472||http://www.post.japanpost.jp/zipcode/download.html||2008年6月30日更新版||
||Wikipedia 日||見出し||865,489||18,439,874||http://download.wikimedia.org/||jawiki-20081127-all-titles-in-ns0||
||Wikipedia 英||見出し||5,716,820||111,542,495||http://download.wikimedia.org/||enwiki-20081008-all-titles-in-ns0||
||Google n-gram 日||見出し||2,565,427||50,784,220||http://googlejapan.blogspot.com/2007/11/n-gram.html||Google n-gram の unigram||
||Google n-gram 英||見出し||13,588,391||125,937,836||http://googleresearch.blogspot.com/2006/08/all-our-n-gram-are-belong-to-you.html||Google n-gram の unigram||

= 実験結果 =

平均処理時間を秒単位で示しています．

※ 小規模なキー集合に対する実験結果は，誤差が大きいので微妙かもしれません．
Windows 上で時間の計測などするべきではないと改めて感じました．

== ipadic-2.6.3 見出し語 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||0.744||0.324||-||0.022||0.029||-||0.101||0.081||-||
||S101A||1.347||0.635||-||0.037||0.062||-||0.165||0.171||-||
||S101B||1.828||0.853||-||0.051||0.083||-||0.223||0.228||-||
||T3400||0.408||0.211||0.218||0.017||0.019||0.016||0.068||0.037||0.031||

== ipadic-2.6.3 読み ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||0.675||0.373||-||0.022||0.028||-||0.110||0.099||-||
||S101A||1.241||0.734||-||0.037||0.063||-||0.180||0.194||-||
||S101B||1.663||0.987||-||0.050||0.083||-||0.241||0.260||-||
||T3400||0.448||0.176||0.187||0.017||0.019||0.016||0.062||0.034||0.029||

== WordNet-3.0 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||0.568||0.257||-||0.017||0.022||-||0.078||0.060||-||
||S101A||1.027||0.501||-||0.028||0.046||-||0.125||0.129||-||
||S101B||1.381||0.672||-||0.038||0.061||-||0.168||0.173||-||
||T3400||0.344||0.143||0.150||0.014||0.016||0.012||0.045||0.025||0.020||

== 郵便番号辞書 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||0.136||0.416||-||0.005||0.008||-||0.022||0.016||-||
||S101A||0.270||0.891||-||0.013||0.022||-||0.065||0.080||-||
||S101B||0.364||1.195||-||0.018||0.028||-||0.088||0.108||-||
||T3400||0.079||0.230||0.259||0.004||0.005||0.005||0.008||0.008||0.010||

== Wikipedia 日 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||6.867||2.302||-||0.139||0.205||-||0.850||0.744||-||
||S101A||12.125||4.416||-||0.236||0.413||-||1.298||1.234||-||
||S101B||16.269||5.936||-||0.316||0.554||-||1.742||1.658||-||
||T3400||4.114||1.339||1.416||0.091||0.117||0.097||0.594||0.481||0.446||

== Wikipedia 英 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||38.670||18.259||-||0.857||1.784||-||6.825||7.336||-||
||S101A||68.809||33.963||-||1.428||3.528||-||9.764||11.609||-||
||S101B||92.391||45.592||-||1.917||4.738||-||13.111||15.570||-||
||T3400||23.185||11.354||10.764||0.542||1.111||0.788||4.975||5.039||4.117||

== Google n-gram 日 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||13.938||7.033||-||0.361||0.566||-||2.847||2.639||-||
||S101A||24.889||13.439||-||0.658||1.166||-||4.313||4.367||-||
||S101B||33.405||18.031||-||0.884||1.586||-||5.800||5.866||-||
||T3400||8.340||4.179||4.337||0.230||0.326||0.289||1.997||1.805||1.777||

== Google n-gram 英 ==

|| *環境 ID* || *構築時間* || *clone-0.32d* || *clone-0.32e* || *検索時間（辞書順）* || *clone-0.32d* || *clone-0.32e* || *検索時間（ランダム順）* || *clone-0.32d* || *clone-0.32e* ||
||X60||30.409||41.644|| ||1.181||2.339|| ||11.334||13.808|| ||
||S101A||55.528||79.672|| ||1.975||4.750|| ||17.534||22.036|| ||
||S101B||74.755||106.966|| ||2.652||6.378|| ||23.523||29.539|| ||
||T3400||18.442||24.453||23.940||0.737||1.399||0.977||8.360||9.519||7.981||